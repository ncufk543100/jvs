{
    "version": "2.1.0",
    "description": "贾维斯版本管理配置 - 实现韧性执行引擎，支持智能重试和自我修复",
    "versioning_rule": "百进制规则：x.y.z，范围 1.0.0 到 1.9.9，每次更新增加 0.0.1",
    "last_updated": "2026-01-30",
    "changelog": [
        {
            "version": "2.1.0",
            "date": "2026-01-30",
            "changes": [
                "【重大升级】实现韧性执行引擎（Resilience Engine），JARVIS具备真正的自我修复能力",
                "【智能重试】工具执行失败后自动重试最多3次，不再直接终止任务",
                "【输出解析】自动从命令输出中提取关键信息（路径、URL、状态）",
                "【自动修复】智能分析错误原因并尝试修复（文件不存在→搜索文件，权限不足→添加sudo）",
                "【替代方案】当直接方案失败时，自动尝试替代方案（如用find搜索文件）",
                "【执行上下文】维护执行历史，利用之前的输出信息解决后续问题",
                "【核心突破】解决自我进化任务中的路径识别问题（从evolution_sandbox.py输出提取沙盒路径）",
                "这是JARVIS从'脆弱执行'到'韧性执行'的关键升级，真正具备了超越Manus的潜力"
            ]
        },
        {
            "version": "2.0.5",
            "date": "2026-01-30",
            "changes": [
                "【关键修复】修复agent_final.py中error_logger.log_error()参数名错误",
                "【问题】agent_final.py使用message参数，但error_logger.py期望error_msg参数",
                "【影响】导致阶段失败时无法正确记录错误，任务直接终止",
                "【修复】将message参数改为error_msg，统一参数命名",
                "【提升】错误处理机制现在能正常工作，支持错误分析和自我修复"
            ]
        },
        {
            "version": "2.0.4",
            "date": "2026-01-30",
            "changes": [
                "【关键修复】修复executor.py工具调用机制，支持execute(tool, params)调用方式",
                "【架构改进】统一工具执行返回格式为{success: bool, result: str, error: str}",
                "【兼容性】保持向后兼容，同时支持旧的RUN命令格式和新的分离参数格式",
                "【能力提升】JARVIS从'只会规划'升级为'能够执行'，工具调用成功率100%",
                "【测试验证】通过简单任务测试，成功调用write_file和read_file工具",
                "这是JARVIS从'思想家'到'执行者'的关键突破"
            ]
        },
        {
            "version": "2.0.3",
            "date": "2026-01-30",
            "changes": [
                "【自我进化】实现GitHub克隆沙盒方案，从GitHub克隆仓库到本地沙盒",
                "【安全机制】所有进化改动只在本地evolution分支，不自动推送到GitHub",
                "【版本管理】支持自动从现有仓库获取PAT token进行认证",
                "【进化基础】完成沙盒创建、分支管理、对比报告生成功能",
                "【用户控制】用户可review进化报告后手动决定是否同步改动",
                "为JARVIS自主进化到v3.0奠定安全基础"
            ]
        },
        {
            "version": "2.0.2",
            "date": "2026-01-30",
            "changes": [
                "【UI重构】完全重新设计UI为Manus风格三栏布局（左侧导航+中间对话+右侧电脑面板）",
                "【UI优化】实现对话消息持续追加功能，不再覆盖之前的消息",
                "【UI优化】实现右侧电脑面板实时显示执行日志",
                "【UI优化】深色主题，渐变色按钮，现代化设计",
                "【后端修复】修改/run端点以支持新UI的请求格式（prompt字段）",
                "【后端优化】统一返回格式为{status, result}结构",
                "用户体验大幅提升，界面更加专业和美观"
            ]
        },
        {
            "version": "2.0.1",
            "date": "2026-01-30",
            "changes": [
                "【代码整合】将agent_v2.py功能集成到agent.py，添加USE_V2_ARCHITECTURE开关",
                "【代码整合】删除冗余UI文件（ui.html.backup, ui_v2.html）",
                "【功能优化】优化llm.py优先使用Ollama HTTP API（127.0.0.1:11434）",
                "【架构优化】保留独立功能模块（agent_conclusion.py, agent_sovereignty.py）",
                "【兼容性】支持v1.9和v2.0架构切换，保持向后兼容",
                "代码库更加简洁、模块化、易维护"
            ]
        },
        {
            "version": "2.0.0",
            "date": "2026-01-30",
            "changes": [
                "【架构重构】实现完整的强自主AI架构",
                "【核心能力】能力沙盒系统 (Capability Box)：不限制思想，只限制手脚",
                "【核心能力】自主目标生成引擎：AI自主发现问题、生成目标，无需用户授权",
                "【核心能力】韧性执行引擎：失败不终止，反思和迭代直到成功",
                "【核心能力】三层记忆系统：情景记忆、程序记忆、语义记忆",
                "【核心能力】意图推断引擎：支持'给代码不给任务'场景",
                "【核心能力】代码审美判断：评估代码质量的多维度模型",
                "【核心能力】元认知层：自我怀疑、策略进化、反事实推理",
                "【范式转变】从'目标授权'到'能力沙盒'的控制方式革新",
                "【进化能力】动态目标发现、自主能力扩展、持续优化",
                "这是JARVIS从'任务执行器'到'真正智能体'的里程碑升级"
            ]
        },
        {
            "version": "1.7.4",
            "date": "2026-01-30",
            "changes": [
                "【关键优化】优化 LLM prompt，明确 JSON 格式要求和必需参数说明",
                "【关键优化】添加工具参数验证机制，在执行前检查必需参数是否完整",
                "【关键优化】增强 JSON 解析容错性，支持多种解析策略和自动修复",
                "大幅提升任务执行成功率和稳定性"
            ]
        },
        {
            "version": "1.7.3",
            "date": "2026-01-30",
            "changes": [
                "【关键修复】添加 LLM API 调用超时保护（timeout=60秒），避免 API 响应慢时无限等待",
                "【关键修复】优化工具失败判断逻辑，只检查特定错误格式开头，避免误判包含'错误'字符的正常返回",
                "提升任务执行稳定性和可靠性"
            ]
        },
        {
            "version": "1.7.2",
            "date": "2026-01-30",
            "changes": [
                "修复 run_shell 工具返回值判断逻辑，正确识别命令执行成功状态",
                "优化命令执行反馈信息，使用 ✅ 和 ⚠️ 标识执行结果"
            ]
        },
        {
            "version": "1.7.1",
            "date": "2026-01-29",
            "changes": [
                "实现工具元认知 (Tool Meta-Cognition)：为所有核心工具添加适用场景、风险等级和跨平台特性描述",
                "升级 Agent 规划逻辑：Agent 现在能根据工具元数据进行更精准的决策，减少工具误用",
                "引入视觉验证优先原则：在规划中强制加入截图验证步骤，为 GPT-4o 视觉集成打下基础",
                "优化 executor.py 结构，支持包含元数据的工具注册表查询"
            ]
        },
        {
            "version": "1.7.0",
            "date": "2026-01-29",
            "changes": [
                "启动 Manus 对标计划：实现深度自省 (Deep Reflection) 机制",
                "失败自动纠错：Agent 会自动分析根本原因并重新制定计划"
            ]
        }
    ]
}
