根据对现有代码的审计结果，结合 Gemini 2.5 Flash 模型的特性，重写 `metacognition_engine.py`。重点将放在：
1.  **深度预判防御**：引入更复杂的风险评估模型，对潜在操作进行多维度分析（如安全风险、资源消耗、成功率、副作用），并在决策前进行模拟或多步确认。增强对不确定性和模糊指令的处理能力，提前识别并规避潜在的错误路径。
2.  **鲁棒性与恢复机制**：强化异常处理和错误恢复逻辑，确保在工具执行失败或环境异常时，引擎能够智能地回溯、调整策略或尝试替代方案。
3.  **上下文感知与动态调整**：提升引擎对当前任务上下文的理解能力，根据实时反馈和环境变化动态调整决策策略。